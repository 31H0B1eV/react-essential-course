# Урок 1 - Введение в React

## Резюме

#### Что такое React?

ReactJS - это JаvaScript фреймворк для построения пользовательских интерфейсов. Это не MVC фреймворк. К нему можно применить только V из этой аббревиатуры. Такая узкая сфера применения дает свободу использования React в различных системах в комбинации с другими библиотеками.

React был представлен Facebook в 2013 году, и очень быстро обрел популярность. Сегодня его используют многие известные компании включая Instagram, Airbnb, Ebay, Netflix, Yahoo и [другие](https://github.com/facebook/react/wiki/Sites-Using-React).

Основным отличием React от других JavaScript фреймворков является то, как он управляет состоянием приложения. Если вспомнить, как пользователи взаимодействовали с веб-страницами еще 10-15 лет назад, то увидим такую картину:

![Как было 10-15 лет назад](/images/001.png)

Сервер всегда возвращал статическую страницу, и реакцией на действия пользователя была полная перезагрузка страницы. Преимуществами такого подхода, была простота в реализации и понимании, недостатками - скорость работы, отзывчивость, UX и потеря состояния при каждой перезагрузке.

Все очень изменилось с появлением AJAX, это подход к построению интерактивных веб-приложений, заключающийся в «фоновом» обмене данными браузера с веб-сервером. То есть, в фоновом режиме отправляются запросы на сервер, приходят с него ответы, изменяется состояние приложения и, соответственно, внешний вид. Именно такой подход породил понятие Single Page Application.

![AJAX](/images/002.png)

Но каждое визуальное изменение на странице соответствует изменению ее DOM дерева. Не секрет, что все манипуляции с DOM деревом являются очень ресурсоемкими операциями, т.к. изначально DOM дерево было статическим и никакой динамики не предусматривало.

![Изменения на странице](/images/006.png)

Именно поэтому в React используется виртуальный DOM. Это такая легковесная копия реального DOM дерева на Javascript. Таким образом, React манипулирует не с реальным (синоним - медленным) DOM деревом, а с виртуальным.

![DOM DIFF](/images/003.png)

Он сравнивает предыдущее состояние виртуального DOM дерева с его следующим состоянием и находит минимальное количество манипуляций, которые можно произвести уже с реальным DOM, чтобы обновить вид приложения согласно его новому состоянию.

![Обновление реального DOM](/images/004.png)

И это действительно быстро работает. А все что вам нужно делать - это просто менять состояние вашего приложения, а все остальное React сделает уже за вас!

#### JSX

Для рендеринга данных в React используется JSX. JSX нужен для JavaScript XML — разметки в стиле XML внутри компонентов React. React работает и без JSX, но именно JSX поможет сделать ваши компоненты более читаемыми, поэтому рекомендуется использовать его.

```javascript
// с JSX
var app = <Nav color=“blue">
    <Profile>click</Profile>
</Nav>;
```

```javascript
// без JSX
var app = React.createElement(
    Nav,
    {color:"blue"},
    React.createElement(
        Profile,
        null,
        "click"
    )
);
```

JSX позволяет вам описывать структуру компонентов с помощью понятного синтаксиса, а затем все написанное вами преобразуется в цепочку javascript функций.

В JSX можно использовать переменные, условные конструкции и вызывать функции. Для этого нужно использовать фугурные скобки.

```javascript
var myName = 'Katya';
var app = <h1> My name is {myName}! </h1>;
```

```javascript
function getMyName() {
    return 'Katya'
}

var app = <h1> My name is {getMyName()}! </h1>;
```

```javascript
var age = 20;

var app = <h1> Hi! { age > 18 ? 'Your age is more than 18!' : 'Your age is less than 18!' } </h1>;
```

#### Компоненты

React использует компонентную модель, то есть все большое приложение делится на небольшие независимые компоненты, которыми гораздо легче управлять.

```javascript
// простой компонент
var HelloWorld = React.createClass({
    render: function() {
        return (
            <h1> Hello world! </h1>
        );
    }
});
```

У каждого компонента есть один обязательный метод - ```render```, который возвращает JSX разметку, соответствующую виду компонента.


У каждого компонента может быть состояние и параметры. Параметры передаются компоненты из выше стоящих компонентов, а свое состояние он хранит внутри себя.

## Вопросы к самопроверке

 - Как работает виртуальный DOM?
 - Как можно создать компонент? Какая функция используется для этого?
 - Какой метод является обязательным для каждого компонента?
 - Как использовать JavaScript конструкции внутри JSX?
 - Зачем нужны параметры у компонентов?
 - Как можно обратиться к параметрам компонента?
 - Как изменить состояние компонента?
 - Как определить первоначальное состояние компонента?
 - Зачем нужен key в React?

## Материалы

 - Этот репозиторий
 - [Официальная документация React](http://facebook.github.io/react/docs)
 - Советую ознакомиться с [JavaScript Style Guide](https://github.com/airbnb/javascript)

## Домашнее задание

**Задание 1 : Сделать компонент для отображения статьи**

_Уровень сложности: низкий_

В компонент передается заголовок, имя автора и текст, а он их отображает, как статью. Внешний вид на ваше усмотрение.

**Задание 2 : Написать динамический Hello World.**

_Уровень сложности: низкий_
В поле ввода вводится текст. Снизу надпись, которая отображает “Hello, <введенный текст>!”. Текст должен меняться по мере ввода. Если в поле ничего не введено, то должно быть выведено “Hello, stranger!”.

**Задание 3 : Дополнительная информация о контактах**

_Уровень сложности: средний_

Усовершенствовать список контактов, написаный на уроке. При клике на контакт, он должен разворачиваться (увеличиваться в высоте) и должна отображаться какая-то дополнительная информация о контакте (например, адрес и email). При повторном клике, информация должна сворачиваться.

**Задание 4 : Простой калькулятор**

_Уровень сложности: выше среднего_

В два поля вводится числа `а` и `b`. Нужно написать простой калькулятор, который умеет их складывать, вычитать и умножать. Отображение на ваше усмотрение.
